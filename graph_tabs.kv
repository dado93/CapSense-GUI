#:kivy 1.11
#: import Graph kivy.garden.Graph

<GraphTabs>:
    capacitance_tab: _capacitance_tab
    resistance_tab: _resistance_tab
    temperature_tab: _temperature_tab
    humidity_tab: _humidity_tab
    current_tab: _current_tab
    do_default_tab: False
    CapacitancePlot:
        id: _capacitance_tab
    ResistancePlot:
        id: _resistance_tab    
    TemperaturePlot:
        id: _temperature_tab
    HumidityPlot:
        id: _humidity_tab
    CurrentPlot:
        id: _current_tab

<GraphPanelItem>:
    graph: _graph
    plot_settings: _plot_settings
    BoxLayout:    
        padding: 10
        orientation: 'horizontal'
        Graph:
            id: _graph
            size_hint_x: 0.7
        PlotSettings:
            id: _plot_settings
            size_hint_x: 0.3

<CapacitancePlot>:
    text: 'Capacitance'

<ResistancePlot>:
    text: 'Resistance'

<TemperaturePlot>:
    text: 'Temperature'

<HumidityPlot>:
    text: 'Humidity'

<CurrentPlot>:
    text: 'Current'

<PlotSettings>:
    orientation: 'vertical'
    spacing: 10
    padding: 10
    seconds_spinner: _seconds_spinner
    autorange_cb: _autorange_cb
    data_sr_label: _data_sr_label
    temperature_sr_label: _temperature_sr_label
    ymin_input: _ymin
    ymax_input: _ymax
    GridLayout:
        cols: 2
        spacing: 10
        padding: 10
        size_hint_y: 0.5
        canvas.before:
            Color: 
                rgba: 0.5, 0.5, 0.5, 1.0
            Rectangle:
                pos: self.pos
                size: self.size
        PlotSettingsLabel:
            text: 'Min'
        FloatInput:
            text: '0'
            id: _ymin
        PlotSettingsLabel:
            text: 'Max'
        FloatInput:
            text: '10'
            id: _ymax
        PlotSettingsLabel:
            text: 'AutoRange'
        CheckBox:
            id: _autorange_cb
        PlotSettingsLabel:
            text: 'Seconds'
        Spinner:
            id: _seconds_spinner
            values: ['1','5','10','30','60']
            text: '60'
        Widget:
    Legend:
        size_hint_y: 0.3
    GridLayout:
        cols: 1
        padding: 10
        spacing: 10
        size_hint_y: 0.2
        canvas.before:
            Color: 
                rgba: 0.7, 0.4, 0.4, 1.0
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            id: _data_sr_label
            text: 'Data SR: --'
            size_hint_y: 0.2
        Label:
            id: _temperature_sr_label
            text: 'T&RH SR: --'
            size_hint_y: 0.2
    
    
<PlotSettingsLabel@Label>:
    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1.0
        Rectangle:
            pos: self.pos
            size: self.size

<LegendEntry@BoxLayout>:
    line_label: _line_name
    spacing: 5
    LegendLabel:
        id: _legend_color
        size_hint_x: 0.5
    Label:
        size_hint_x: 0.5
        id: _line_name
        text: 'Channel #'

<LegendLabel@Label>:
    canvas.before:
        Color:
            rgba: 1, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

<Legend@BoxLayout>:
    orientation: 'vertical'
    spacing: 10
    LegendEntry:
        size_hint_y: 0.1
    LegendEntry:
        size_hint_y: 0.1
    Widget:
